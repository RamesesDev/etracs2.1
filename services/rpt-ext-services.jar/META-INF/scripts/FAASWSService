import com.rameses.annotations.*;
import com.rameses.common.*;
import com.rameses.rules.common.*
import java.math.BigDecimal
import java.math.RoundingMode


public class FAASWSService 
{
	@PersistenceContext('main')
	def em
	
	@Service('FAASService')
	def svc
	
	@ProxyMethod
	public def getFAAS( param ) {
		if( !param.tdno )
			return [status: 1, message: 'No TD Number specified.'];
			
		def result = em.sqlContext.createQuery('select objid from faaslist where tdno=?').setParameter(1, param.tdno).singleResult;
		if( !result )
			return [status: 1, message: 'FAAS with TD Number "' + param.tdno + '" not found.'];
		
		return svc.open( result.objid );
	}

}
